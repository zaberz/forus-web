import{o as t,c as h,w as i,a as e,b as s,H as a,s as d,d as r,i as o,f as l}from"./index-801d5391.js";import{t as g}from"./thumbImage.3264ca66.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const u=m({name:"ForusImage",props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},autoFix:{type:Boolean,default:!1},width:{type:Number,default:0},height:{type:Number,default:0},rate:{type:Number,default:0},initHeight:{type:String},placeholderHeight:{type:Number}},computed:{thumbUrl(){return g(this.src,{width:this.width})},ph(){let t,h;return this.rate&&this.rate>0&&(this.width?(t=this.width,h=Math.round(t/this.rate)):this.height&&(h=this.height,t=Math.round(h*this.rate))),this.width&&this.height&&(t=this.width,h=this.height),h?h+"rpx":this.placeholderHeight?this.placeholderHeight+"rpx":"100%"}},mounted(){let t,h;this.start=!0,this.rate&&this.rate>0&&(this.width?(t=this.width,h=Math.round(t/this.rate)):this.height&&(h=this.height,t=Math.round(h*this.rate))),this.width&&this.height&&(t=this.width,h=this.height),this.imageWidth=t?t+"rpx":"100%",this.imageHeight=h?h+"rpx":"100%"},data:()=>({imageWidth:"100%",imageHeight:"100%",loaded:!1,start:!1}),methods:{imageLoad(t){this.calculateSize(t),this.loaded=!0},calculateSize(t){let h,i;if(this.autoFix){let{width:e,height:s}=t.detail,a=e/s;this.width&&this.width>0?(h=this.width,i=Math.round(h/a)):this.height&&this.height>0&&(i=this.height,h=Math.round(i*a))}this.rate&&this.rate>0&&(this.width?(h=this.width,i=Math.round(h/this.rate)):this.height&&(i=this.height,h=Math.round(i*this.rate))),this.width&&this.height&&(h=this.width,i=this.height),this.imageWidth=h?h+"rpx":"100%",this.imageHeight=i?i+"rpx":"100%"}}},[["render",function(g,m,u,n,p,c){const w=o,f=l;return t(),h(w,{class:a(["container",{minHeight:!g.loaded}]),style:d({width:g.imageWidth,height:g.loaded?g.imageHeight:c.ph,minHeight:g.loaded?0:u.initHeight})},{default:i((()=>[e(w,{class:a(["placeholder",{show:!g.loaded}])},{default:i((()=>[e(w,{class:"text"},{default:i((()=>[s("FORUS")])),_:1})])),_:1},8,["class"]),g.start?(t(),h(f,{key:0,src:c.thumbUrl,onLoad:c.imageLoad,"lazy-load":"",mode:u.mode,style:d({width:g.imageWidth,height:g.imageHeight}),class:a(["thumb-image",{show:g.loaded,cover:"aspectFill"===u.mode,contain:"aspectFit"===u.mode}])},null,8,["src","onLoad","mode","style","class"])):r("v-if",!0)])),_:1},8,["style","class"])}],["__scopeId","data-v-30b2dabd"]]);export{u as F};
