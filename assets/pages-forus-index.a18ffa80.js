import{m as t,n as e,o as s,c as a,w as r,a as l,p as o,i,q as u,d,r as n,F as c,j as p,f as h,s as g,b as m,t as f,S as y,u as I,e as b}from"./index-401430b3.js";import{T as C}from"./thumbImage.d5bd3764.js";import{F as x}from"./ForusImage.8520c548.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";import{B as w}from"./BottomBar.4ff7c82c.js";import{a as k}from"./analysis.0adf1230.js";import"./thumbImage.ccc714c0.js";import"./login.a0f9f7ef.js";const v={name:"cluster",components:{ThumbImage:C,ForusImage:x},props:{src:"",clusterId:""},computed:{...t(["globalConfig"])},methods:{toCluster(){let t=this.globalConfig.photographerID,s=this.globalConfig.featuredID;t==this.clusterId?e({url:`/pages/forus/photographer?id=${this.clusterId}`}):s==this.clusterId?e({url:`/pages/forus/album?id=${this.globalConfig.featuredAlbumID}`}):e({url:`/pages/forus/cluster?id=${this.clusterId}`})}}};const F=_({name:"index",components:{Cluster:_(v,[["render",function(t,e,u,d,n,c){const p=o("ForusImage"),h=i;return s(),a(h,{class:"height-fill width-fill",onClick:c.toCluster},{default:r((()=>[l(p,{src:u.src,class:"image"},null,8,["src"])])),_:1},8,["onClick"])}],["__scopeId","data-v-2a3b1bdf"]]),Photographer:_({name:"photographer",components:{ThumbImage:C},props:{cover:""},methods:{toGrapher(){e({url:"/pages/forus/photographer"})}}},[["render",function(t,e,u,d,n,c){const p=o("ThumbImage"),h=i;return s(),a(h,{class:"height-fill width-fill",onClick:c.toGrapher},{default:r((()=>[l(p,{src:u.cover,class:"image"},null,8,["src"])])),_:1},8,["onClick"])}],["__scopeId","data-v-a348a061"]]),ThumbImage:C,BottomBar:w,ForusImage:x},computed:{...t(["globalConfig"])},data:()=>({layoutConfig:[],swiperConfig:[]}),onLoad(t){this.init(),k("查看","vision 首页")},onShareAppMessage:()=>(k("分享","vision 首页"),{title:"FORUS VISION"}),methods:{async init(){let t=await u();this.layoutConfig=t.detail.layout,this.swiperConfig=t.detail.swiper},toCluster(t){let s=this.globalConfig.photographerID,a=this.globalConfig.featuredID;e(s==t?{url:`/pages/forus/photographer?id=${t}`}:a==t?{url:`/pages/forus/album?id=${this.globalConfig.featuredAlbumID}`}:{url:`/pages/forus/cluster?id=${t}`})},toFeature(){e({url:`/pages/forus/album?id=${this.globalConfig.featuredAlbumID}`})}}},[["render",function(t,e,u,C,x,_){const w=o("ForusImage"),k=y,v=h,F=i,$=o("Cluster"),j=o("ThumbImage"),B=I,D=b,T=o("BottomBar");return s(),a(F,{class:"container"},{default:r((()=>[l(F,{class:"content"},{default:r((()=>[l(F,null,{default:r((()=>[l(v,{style:{width:"750rpx",height:"1100rpx"},autoplay:"",circular:"","indicator-dots":"",onClick:_.toFeature},{default:r((()=>[(s(!0),d(c,null,n(x.swiperConfig,(t=>(s(),a(k,{style:{width:"750rpx",height:"1100rpx"},key:t.url},{default:r((()=>[l(w,{src:t.url,width:"750",height:"1100",mode:"aspectFill"},null,8,["src"]),p('          <ThumbImage :src="i.url" style="width: 750rpx;height: 1100rpx" mode="aspectFill"></ThumbImage>')])),_:2},1024)))),128))])),_:1},8,["onClick"])])),_:1}),l(F,{class:"grid-container"},{default:r((()=>[p('      class="border"'),(s(!0),d(c,null,n(x.layoutConfig,((t,e)=>(s(),a(F,{style:g({gridArea:`${t.y+1} / ${t.x+1} / ${t.h+t.y+1} / ${t.w+t.x+1}`}),key:e},{default:r((()=>["cluster"===t.detail.type?(s(),a($,{key:0,src:t.detail.src,"cluster-id":t.detail.clusterId},null,8,["src","cluster-id"])):"image"===t.detail.type?(s(),a(j,{key:1,src:t.detail.src},null,8,["src"])):"video"===t.detail.type?(s(),a(B,{key:2,src:t.detail.src,style:{width:"100%",height:"100%"},controls:""},null,8,["src"])):"text"===t.detail.type?(s(),a(F,{key:3,class:"text-component"},{default:r((()=>[m(f(t.detail.text),1)])),_:2},1024)):"card"===t.detail.type?(s(),a(F,{key:4,style:{height:"100%",margin:"0 30rpx","border-top":"1rpx solid #888"},onClick:e=>_.toCluster(t.detail.clusterId)},{default:r((()=>[l(F,{style:{width:"100%",height:"calc(100% - 80rpx)","margin-top":"10rpx"}},{default:r((()=>[l(w,{src:t.detail.src,mode:"aspectFill"},null,8,["src"])])),_:2},1024),l(F,{style:{color:"#fff","line-height":"50rpx","font-size":"30rpx",display:"flex","justify-content":"space-between","align-items":"center"}},{default:r((()=>[l(j,{src:t.detail.text,height:"40","auto-fix":""},null,8,["src"]),l(D,{src:"/static/icon-arrow-right-white.png",style:{width:"28rpx",height:"28rpx"}})])),_:2},1024)])),_:2},1032,["onClick"])):p("v-if",!0),p('        v-bind="item.detail"'),p('        <Photographer v-if="item.detail.type === \'photographer\'" v-bind="item.detail"></Photographer>')])),_:2},1032,["style"])))),128))])),_:1})])),_:1}),l(T)])),_:1})}],["__scopeId","data-v-8d2d9ea9"]]);export{F as default};
